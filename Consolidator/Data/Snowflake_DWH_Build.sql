---------------------------------------------------------------------------------------------------------------
MASTER_CONFIDENTIAL
---------------------------------------------------------------------------------------------------------------

CREATE OR REPLACE TABLE GCS_INSTANTANEOUS_JSON_STG 
(JSON_GCS_DATA VARIANT,
SOURCE_MESSAGE_TYPE VARCHAR(25),
SOURCE_SNAPSHOT_TIMESTAMP TIMESTAMP_NTZ,
SOURCE_CREATED_TIMESTAMP TIMESTAMP_NTZ,
SOURCE_DESCRIPTION VARCHAR(100),
TARGET_ETL_LOADED_FLAG CHAR(1),
DWH_CREATION_TIME TIMESTAMP_LTZ,
DWH_CREATION_USER  VARCHAR(50),
DWH_LOAD_UUID VARCHAR(36)
);


CREATE OR REPLACE TABLE  GCS_INSTANTANEOUS_ISO_STG
(
isoCodeName VARCHAR(20),
frequencyHZ NUMBER(38,2),
totalDeployedERSMW   NUMBER(38,2),
totalDeployedLoadRRSMW   NUMBER(38,2),
totalGenerationMW   NUMBER(38,2),
totalLoadMW   NUMBER(38,2),
totalOnlineHASLMW   NUMBER(38,2),
totalOnlineLASLMW   NUMBER(38,2),
totalRealTimeOfflineReservesMW   NUMBER(38,2),
totalRealTimeOnlineReservesMW   NUMBER(38,2),
totalSolarMW   NUMBER(38,2),
totalSumRUCAndRMRUnitsLDLMW   NUMBER(38,2),
totalWindMW   NUMBER(38,2),
timeOfLastSCEDFromMidnightSecs  NUMBER(38,0),
onlineReliabilityDeploymentPriceAdder  NUMBER(38,2),
onlineReservesPriceAdder  NUMBER(38,2),
offlineReservesPriceAdder  NUMBER(38,2),
regulationMW  NUMBER(38,2),
nonUnitSettlementPointsName VARCHAR(50),
locationalMarginalPrice NUMBER(38,2),
SOURCE_SNAPSHOT_TIMESTAMP TIMESTAMP_NTZ,
SOURCE_CREATED_TIMESTAMP TIMESTAMP_NTZ,
SOURCE_DESCRIPTION VARCHAR(100),
DWH_CREATION_TIME TIMESTAMP_NTZ,
DWH_CREATION_USER  VARCHAR(50),
DWH_LOAD_UUID VARCHAR(36)
  );

CREATE OR REPLACE TABLE GCS_INSTANTANEOUS_UNIT_STG (
unitType  VARCHAR(50), 
unitShortName 	VARCHAR(50), 
siteCode      VARCHAR(20),
combinedCycleConfiguration   VARCHAR(50),
adjustedBasePointRampedMW  NUMBER(38,2),
adjustedNetMW  NUMBER(38,2),
ecoMaxOrHSL  NUMBER(38,2),
ecoMinOrLSL  NUMBER(38,2),
grossMW  NUMBER(38,2),
highTelemeteredLimitMW  NUMBER(38,2),
highSustainableLimitMW NUMBER(38,2),
lowTelemeteredLimitMW  NUMBER(38,2),
lowSustainableLimitMW NUMBER(38,2),
mktSetPointMW  NUMBER(38,2),
netMW  NUMBER(38,2),
nsrsResponsibilityMW  NUMBER(38,2),
nsrsScheduleMW  NUMBER(38,2),
regulationResponsibilityMW  NUMBER(38,2),
regDownResponsibilityMW  NUMBER(38,2),
regScheduleMW  NUMBER(38,2),
regUpResponsibilityMW  NUMBER(38,2),
rrsResponsibilityMW  NUMBER(38,2),
rrsScheduleMW  NUMBER(38,2),
updatedDesiredBasePointMW  NUMBER(38,2),
agcStatus  BOOLEAN,
avrStatus  BOOLEAN, 
breakerStatus  BOOLEAN, 
curtailedStatus  BOOLEAN,
ductBurnerStatus  BOOLEAN,
evaporatorStatus    BOOLEAN,
isoResourceStatus  BOOLEAN,
locationalMarginalPrice BOOLEAN,
mitigatedOfferCurveStatus BOOLEAN,
onlineStatus  BOOLEAN, 
pssStatus  BOOLEAN,
quickStartStatus BOOLEAN,
ufrStatus  BOOLEAN,
regDownParticipationFactor  NUMBER(38,0),
regUpParticipationFactor  NUMBER(38,0),
tier2ResponsiveReserveMW  NUMBER(38,2),
SOURCE_SNAPSHOT_TIMESTAMP TIMESTAMP_NTZ,
SOURCE_CREATED_TIMESTAMP TIMESTAMP_NTZ,
SOURCE_DESCRIPTION VARCHAR(100),
DWH_CREATION_TIME TIMESTAMP_NTZ,
DWH_CREATION_USER  VARCHAR(50),
DWH_LOAD_UUID VARCHAR(36)
);

---------------------------------------------------------------------------------------------------------------
TXN_CONFIDENTIAL
---------------------------------------------------------------------------------------------------------------

CREATE OR REPLACE TABLE GENERATION_LOAD_GCS_TELEMETRY_MASTER
(
REPORT_DATE_KEY NUMBER(38,0),
DELIVERY_DATE_KEY  NUMBER(38,0),
INTERVAL_TYPE_KEY NUMBER(38,0),
SITE_KEY	NUMBER(38,0),
ISO_KEY NUMBER(38,0),
UNIT_KEY	NUMBER(38,0),
UNIT_TYPE_KEY	NUMBER(38,0),
UNIT_ISO_KEY	NUMBER(38,0),
UNIT_STATUS_TYPE_KEY NUMBER(38,0),
PRIMARY_FUELTYPE_KEY	NUMBER(38,0),                        
SECONDARY_FUELTYPE_KEY	NUMBER(38,0)  ,                      
SOURCE_SYSTEM_KEY NUMBER(38,0),

SITE_SHORTNAME     VARCHAR(20),
SITE_LOCAL_TIMEZONE VARCHAR(30),
LOAD_ZONE	VARCHAR(500),
ISO_SHORTNAME VARCHAR(20),
UNIT_SHORTNAME	VARCHAR(50), --GEN VS 
UNIT_MODE_TYPE VARCHAR(50),                  
UNITTYPE_SHORTNAME	VARCHAR(20),
UNITSTATUSTYPE_LONGNAME VARCHAR(100),
MARKET_SHARE_PERCENT NUMBER(28,3),
INTERVALTYPE_LONGNAME VARCHAR(100),
INTERVALTYPE_SHORTNAME VARCHAR(20),
INTERVAL_HE_TIMESTAMP TIME,
INTERVAL_HE_TIMESTAMP_UTC TIME,
INTERVAL_KEY	NUMBER(38,0),
INTERVAL_SHORTNAME	VARCHAR(20),

FREQ_HZ NUMBER(38,2),
TOTAL_DEPLOYED_ERS_MW  NUMBER(38,2),
TOTAL_DEPLOYED_LOAD_RRS_MW  NUMBER(38,2),
TOTAL_GENERATION_MW  NUMBER(38,2),
TOTAL_LOAD_MW  NUMBER(38,2),
TOTAL_ONLINE_HASL_MW  NUMBER(38,2),
TOTAL_ONLINE_LASL_MW  NUMBER(38,2),
TOTAL_RT_OFFLINE_RESERVES_MW  NUMBER(38,2),
TOTAL_RT_ONLINE_RESERVES_MW  NUMBER(38,2),
TOTAL_SOLAR_MW  NUMBER(38,2),
TOTAL_SUM_RUC_RMR_UNITS_LDL_MW  NUMBER(38,2),
TOTAL_WIND_MW  NUMBER(38,2),
TIME_OF_LAST_SCED_FROM_MID_SECS  NUMBER(38,0),
ONLINE_RELIABILITY_DEPLOYMENT_PRICE_ADDER  NUMBER(38,2),
ONLINE_RESERVES_PRICE_ADDER  NUMBER(38,2),
OFFLINE_RESERVES_PRICE_ADDER  NUMBER(38,2),
REGULATION_MW  NUMBER(38,2),
COMBINED_CYCLE_CONFIGURATION  VARCHAR(50),
ADJUSTED_BASE_POINT_RAMPED_MW NUMBER(38,2),
ADJUSTED_NET_MW NUMBER(38,2),
ECO_MAX_MW NUMBER(38,2),
ECO_MIN_MW NUMBER(38,2),
GROSS_MW NUMBER(38,2),
HIGH_TELEMETERED_LIMIT_MW NUMBER(38,2),
HIGH_SUSTAINABLE_LIMIT_MW NUMBER(38,2),
LOW_TELEMETERED_LIMIT_MW NUMBER(38,2),
LOW_SUSTAINABLE_LIMIT_MW NUMBER(38,2),
MARKET_SET_POINT_MW NUMBER(38,2),
NET_MW NUMBER(38,2),
NSRS_RESPONSIBILITY_MW NUMBER(38,2),
NSRS_SCHEDULE_MW NUMBER(38,2),
REGULATION_RESPONSIBILITY_MW NUMBER(38,2),
REG_DOWN_RESPONSIBILITY_MW NUMBER(38,2),
REG_SCHEDULE_MW NUMBER(38,2),
REG_UP_RESPONSIBILITY_MW NUMBER(38,2),
RRS_RESPONSIBILITY_MW NUMBER(38,2),
RRS_SCHEDULE_MW NUMBER(38,2),
UPDATED_DESIRED_BASE_POINT_MW NUMBER(38,2),
ACG_STATUS BOOLEAN,
AVR_STATUS BOOLEAN, 
BREAKER_STATUS BOOLEAN, 
CURTAILED_STATUS BOOLEAN,
DUCT_BURNER_STATUS BOOLEAN,
EVAPORATOR_STATUS   BOOLEAN,
ISO_RESOURCE_STATUS BOOLEAN,
MITIGATED_OFFER_CURVE_STATUS BOOLEAN,
ONLINE_STATUS BOOLEAN, 
PSS_STATUS BOOLEAN,
QUICK_START_STATUS BOOLEAN,
UFR_STATUS BOOLEAN,
REG_DOWN_PARTICIPATION_FACTOR NUMBER(38,0),
REG_UP_PARTICIPATION_FACTOR NUMBER(38,0),
TIER2_RESPONSIVE_RESERVE_MW NUMBER(38,2),

SOURCE_SNAPSHOT_TIMESTAMP TIMESTAMP_LTZ,
SOURCE_CREATED_TIMESTAMP TIMESTAMP_LTZ,
DWH_CREATION_TIME TIMESTAMP_NTZ,
DWH_CREATION_USER  VARCHAR(50),
DWH_UPDATE_TIME TIMESTAMP_NTZ,
DWH_UPDATE_USER VARCHAR(50)
) cluster by (REPORT_DATE_KEY,INTERVAL_TYPE_KEY, INTERVAL_KEY, ISO_KEY, UNIT_KEY );


CREATE OR REPLACE TABLE GENERATION_ISO_NONUNIT_SPP_TELEMETRY_MASTER
(
REPORT_DATE_KEY NUMBER(38,0),
DELIVERY_DATE_KEY NUMBER(38,0),"WHOLESALE_DEV"."MASTER_CONFIDENTIAL"."TIMEZONE"
INTERVAL_TYPE_KEY NUMBER(38,0),
INTERVAL_KEY	NUMBER(38,0),
INTERVAL_SHORTNAME	VARCHAR(20),
ISO_KEY NUMBER(38,0),
SOURCE_SYSTEM_KEY NUMBER(38,0),
ISO_LOCAL_TIMEZONE VARCHAR(30),
NON_UNIT_SETTLEMENT_POINTS_NAME VARCHAR(30),
LOCATIONAL_MARGINAL_PRICE NUMBER(38,2),
SOURCE_SNAPSHOT_TIMESTAMP TIMESTAMP_LTZ,
SOURCE_CREATED_TIMESTAMP TIMESTAMP_LTZ,
DWH_CREATION_TIME TIMESTAMP_NTZ,
DWH_CREATION_USER VARCHAR(50),
DWH_UPDATE_TIME TIMESTAMP_NTZ,
DWH_UPDATE_USER  VARCHAR(50)
) CLUSTER BY (REPORT_DATE_KEY,INTERVAL_TYPE_KEY, ISO_KEY );
